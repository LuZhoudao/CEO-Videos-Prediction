import os
from Video.video_features import video_features_extractor

# 需不同环境
# Video
all_videos_path = '../Transcript/video/small_video'
all_images_path = '../Transcript/video/image'
local_features_path = '../Features'
video_lst = os.listdir(all_videos_path)
# video_lst = ['3000630763', '3000562625', '3000529943', '3000528076', '3000574170', '3000583565', '3000291017', '3000533222', '3000614222', '3000328389', '3000266292', '3000586072', '3000621112', '3000639171', '3000640621', '3000583661', '3000573757', '3000667654', '3000661722', '3000604393', '3000576499', '3000659818', '3000678804', '3000670054', '3000677235', '3000569753', '3000519383', '3000553694', '3000560767', '3000630409', '3000271619', '3000294725', '3000563356', '3000627844', '3000624436', '3000676400', '3000674981', '3000572643', '3000273548', '3000608052', '3000511148', '3000646108', '3000554012', '3000607797', '3000524518', '3000523544', '3000573007', '3000646299', '3000271522', '3000573566', '3000352484', '3000664139', '3000549858', '3000654322', '3000330127', '3000558740', '3000528075', '3000645580', '3000543324', '3000591467', '3000524228', '3000265498', '3000328947', '3000623574', '3000265471', '3000306099', '3000580618', '3000646096', '3000557575', '3000619926', '3000585255', '3000669350', '3000664140', '3000350696', '3000663282', '3000659909', '3000533221', '3000599873', '3000358862', '3000646476', '3000607978', '3000276554', '3000640191', '3000622853', '3000556351', '3000540065', '3000512797', '3000584779', '3000566900', '3000671774', '3000576843', '3000641710', '3000573604', '3000610027', '3000615413', '3000616595', '3000573859', '3000263426', '3000336008', '3000641308', '3000561017', '3000643640', '3000270884', '3000612795', '3000493294', '3000555116', '3000327635', '3000265488', '3000664063', '3000545563', '3000667648', '3000344808', '3000642477', '3000556737', '3000590746', '3000541653', '3000644293', '3000617895', '3000271519', '3000664193', '3000589179', '3000611456', '3000672275', '3000551632', '3000623693', '3000262081', '3000519848', '3000518654', '3000651820', '3000638183', '3000660179', '3000564622', '3000644294', '3000647738', '3000577516', '3000519856', '3000612238', '3000626675', '3000553268', '3000538192', '3000574164', '3000527421', '3000573019', '3000268932', '3000523726', '3000610993', '3000616612', '3000625252', '3000346214', '3000328424', '3000442112', '3000655950', '3000522290', '3000669516', '3000662991', '3000671398', '3000523458', '3000545865', '3000616611', '3000563486', '3000263710', '3000520186', '3000669511', '3000279472', '3000271416', '3000564507', '3000670127', '3000563006', '3000565954', '3000309117', '3000570472', '3000658249', '3000294360', '3000641897', '3000331448', '3000602405', '3000542332', '3000672070', '3000576156', '3000260513', '3000594204', '3000627875', '3000568902', '3000642037', '3000616627', '3000544027', '3000560283', '3000551406', '3000539393', '3000544093', '3000516580', '3000263821', '3000539913', '3000651444', '3000553238', '3000562335', '3000263307', '3000267280', '3000600774', '3000522552', '3000654331', '3000270443', '3000668006', '3000566235', '3000669143', '3000638514', '3000267393', '3000623621', '3000529956', '3000260504', '3000596097', '3000589484', '3000276891', '3000271928', '3000614224', '3000584004', '3000623572', '3000667290', '3000609293', '3000271432', '3000524931', '3000669869', '3000538195', '3000537788', '3000518401', '3000544124', '3000616599', '3000679563', '3000618267', '3000589872', '3000639848', '3000522640', '3000589454', '3000327634', '3000584787', '3000679160', '3000671749', '3000607973', '3000295093', '3000627539', '3000563359', '3000663670', '3000573009', '3000595364', '3000669868', '3000640175', '3000269434', '3000540823', '3000560768', '3000648418', '3000546982', '3000624492', '3000597774', '3000357679', '3000642476', '3000571030', '3000668549', '3000588765', '3000678808', '3000675326', '3000538951', '3000657710', '3000639838', '3000319286', '3000530222', '3000271273', '3000560290', '3000321573', '3000650522', '3000562974', '3000574263', '3000582496', '3000563113', '3000556871', '3000655924', '3000494668', '3000573008', '3000616604', '3000618764', '3000267990', '3000629115', '3000549462', '3000669514', '3000670742', '3000523732', '3000631164', '3000623220', '3000670072', '3000294193', '3000593137', '3000341096', '3000649795', '3000562298', '3000602384', '3000262636', '3000615913', '3000331130', '3000593798', '3000551052', '3000676147', '3000587797', '3000272890', '3000619086', '3000591869', '3000670178', '3000629879', '3000526778', '3000674623', '3000642472', '3000264997', '3000591522', '3000600766', '3000522454', '3000548117', '3000616619', '3000546064', '3000288070', '3000268716', '3000295286', '3000557609', '3000539501', '3000522935', '3000649804', '3000650369', '3000329379', '3000325707', '3000538174', '3000673772', '3000270781', '3000606928', '3000338655', '3000266723', '3000572636', '3000599216', '3000650515', '3000540413', '3000331021', '3000549243', '3000539496', '3000558874', '3000616607', '3000563381', '3000266326', '3000536121', '3000639837', '3000673241', '3000587417', '3000545573', '3000319581', '3000290976', '3000561041', '3000589873', '3000353866', '3000585291', '3000659533', '3000270103', '3000615554', '3000535308', '3000353774', '3000555313', '3000621093', '3000524438', '3000654333', '3000669704', '3000528080', '3000613779', '3000582867', '3000336609', '3000661373', '3000260525', '3000549528', '3000494666', '3000641954', '3000641959', '3000585210', '3000560736', '3000565007', '3000634653', '3000662160', '3000639173', '3000268593', '3000520597', '3000544123', '3000543842', '3000339373', '3000662988', '3000309146', '3000299800', '3000574155', '3000666808', '3000680523', '3000675701', '3000513356', '3000574935', '3000536795', '3000648083', '3000538488', '3000642420', '3000648474', '3000561971', '3000539495', '3000519816', '3000271631', '3000571359', '3000653738', '3000619894', '3000562696', '3000296709', '3000565348', '3000561924', '3000614830', '3000658627', '3000615461', '3000681026', '3000665386', '3000576645', '3000587826', '3000540109', '3000560296', '3000270533', '3000635082', '3000584788', '3000562694', '3000540841', '3000271696', '3000583668', '3000537754', '3000519825', '3000619859', '3000647270', '3000642478', '3000644447', '3000617399', '3000587801', '3000665948', '3000650392', '3000582749', '3000564689', '3000629263', '3000643706', '3000283391', '3000545610', '3000598134', '3000614250', '3000618676', '3000303074', '3000676520', '3000624107', '3000654335', '3000542641', '3000270513', '3000610146', '3000543409', '3000336015', '3000596948', '3000641150', '3000541721', '3000538208', '3000335637', '3000576628', '3000540111', '3000630283', '3000565344', '3000591468', '3000626934', '3000267988', '3000582392', '3000270221', '3000331690', '3000643186', '3000651484', '3000539494', '3000673076', '3000518653', '3000616602', '3000643554', '3000614204', '3000282674', '3000537765', '3000580711', '3000584800', '3000631989', '3000536120', '3000576982', '3000679158', '3000564561', '3000357253', '3000265758', '3000616616', '3000662076', '3000665382', '3000550372', '3000678984', '3000568914', '3000545564', '3000640182', '3000562629', '3000649334', '3000548083', '3000637308', '3000542305', '3000565003', '3000519846', '3000265374', '3000669512', '3000268007', '3000520939', '3000321531', '3000642098', '3000674973', '3000265153', '3000549868', '3000570508', '3000548888', '3000539499', '3000677604', '3000601903', '3000523878', '3000667294', '3000649299', '3000658255', '3000617521', '3000679518', '3000643318', '3000676402', '3000271818', '3000538568', '3000681030', '3000668004', '3000573817', '3000336019', '3000584751', '3000629483', '3000644066', '3000549472', '3000511505', '3000541274', '3000582729', '3000346182', '3000538891', '3000615535', '3000522641', '3000670053', '3000616200', '3000521849', '3000667650', '3000623191', '3000654475', '3000522634', '3000608040', '3000582538', '3000677236', '3000549477', '3000558481', '3000549495', '3000672325', '3000671803', '3000271486', '3000613962', '3000537821', '3000658633', '3000331612', '3000630408', '3000546739', '3000267728', '3000648471', '3000654119', '3000650143', '3000574264', '3000527007', '3000677046', '3000641238', '3000661721', '3000581570', '3000563435', '3000635945', '3000648488', '3000613794', '3000592233', '3000671953', '3000333246', '3000590228', '3000631321', '3000539777', '3000556140', '3000273300', '3000614733', '3000664134', '3000616674', '3000583513', '3000644438', '3000640359', '3000568546', '3000547000', '3000639960', '3000369802', '3000658256', '3000616782', '3000549897', '3000661852', '3000639169', '3000554866', '3000650949', '3000641707', '3000649389', '3000538533', '3000545314', '3000549623', '3000260514', '3000269626', '3000533216', '3000533228', '3000331621', '3000629847', '3000650146', '3000582834', '3000613064', '3000559485', '3000536523', '3000591466', '3000271197', '3000524087', '3000662591', '3000628853', '3000629858', '3000673245', '3000526772', '3000594199', '3000575930', '3000514608', '3000648084', '3000673008', '3000285949', '3000531402', '3000653734', '3000643320', '3000609631', '3000551444', '3000549847', '3000542304', '3000589448', '3000563382', '3000564283', '3000585703', '3000520537', '3000571889', '3000662217', '3000270419', '3000618154', '3000562418', '3000671489', '3000558722', '3000574165', '3000613988', '3000674618', '3000615468', '3000549629', '3000654478', '3000538191', '3000539352', '3000563039', '3000573559', '3000547690', '3000647958', '3000549463', '3000642746', '3000565342', '3000596046', '3000624435', '3000607981', '3000678982', '3000648475', '3000264679', '3000668343', '3000618218', '3000574160', '3000615375', '3000679157', '3000522638', '3000282262', '3000581537', '3000610147', '3000677239', '3000537786', '3000328420', '3000629460', '3000329964', '3000549106', '3000442084', '3000669348', '3000523725', '3000606989', '3000344362', '3000267255', '3000588292', '3000669170', '3000536861', '3000674976', '3000562693', '3000629624', '3000570503', '3000574166', '3000530593', '3000574173', '3000536361', '3000349662', '3000596047', '3000525830', '3000626593', '3000270003', '3000642095', '3000540501', '3000568911', '3000604003', '3000667997', '3000583646', '3000264770', '3000580712', '3000660581', '3000674908', '3000563387', '3000511142', '3000621759', '3000651438', '3000542278', '3000638253', '3000544092', '3000661000', '3000288189', '3000295100', '3000519849', '3000644443', '3000576158', '3000582518', '3000658634', '3000581059', '3000671594', '3000576504', '3000264715', '3000608037', '3000341101', '3000624450', '3000588313', '3000567091', '3000537822', '3000680343', '3000336016', '3000272010', '3000665384', '3000648086', '3000265587', '3000523905', '3000613139', '3000530220', '3000661314', '3000670077', '3000572582', '3000562623', '3000557190', '3000529657', '3000604858', '3000534037', '3000294793', '3000582497', '3000616600', '3000587799', '3000623354', '3000639887', '3000644065', '3000573004', '3000627025', '3000571044', '3000635657', '3000573001', '3000623643', '3000583952', '3000612121', '3000271207', '3000545894', '3000277159', '3000614311', '3000681027', '3000527726', '3000669169', '3000271218', '3000560774', '3000654325', '3000351990', '3000587378', '3000543758', '3000679195', '3000574168', '3000331583', '3000585222', '3000563090', '3000558753', '3000538932', '3000627783', '3000666437', '3000629265', '3000562971', '3000536458', '3000600777', '3000667167', '3000566981', '3000333772', '3000582415', '3000523891', '3000562695', '3000584802', '3000537410', '3000659529', '3000563036', '3000266394', '3000590745', '3000629264', '3000267009', '3000552612', '3000297068', '3000658246', '3000623221', '3000541990', '3000544442', '3000549470', '3000602291', '3000643629', '3000623431', '3000548929', '3000585212', '3000261095', '3000523526', '3000656098', '3000344044', '3000321904', '3000634184', '3000567103', '3000584768', '3000584789', '3000671955', '3000650149', '3000270430', '3000273646', '3000584766', '3000669515', '3000594869', '3000671393', '3000564960', '3000577362', '3000573006', '3000538601', '3000344807', '3000615555', '3000541652', '3000601850', '3000667656', '3000565004', '3000660118', '3000672115', '3000676706', '3000537414', '3000548847', '3000333922', '3000530937', '3000333842', '3000673074', '3000583949', '3000658560', '3000590226', '3000564236', '3000519815', '3000260521', '3000264189', '3000672284', '3000336017', '3000549873', '3000615154', '3000607360', '3000331503', '3000563037', '3000267808', '3000655652', '3000264213', '3000544495', '3000618639', '3000611761', '3000314019', '3000539509', '3000675758', '3000641303', '3000614757', '3000666434', '3000266258', '3000666375', '3000594947', '3000646294', '3000336012', '3000666803', '3000358658', '3000582764', '3000607000', '3000603150', '3000549783', '3000631950', '3000653342', '3000548701', '3000528531', '3000513357', '3000555559', '3000574975', '3000547407', '3000545315', '3000668005', '3000616680', '3000621410', '3000616617', '3000268732', '3000539906', '3000666440', '3000514595', '3000563811', '3000585209', '3000561532', '3000648081', '3000607798', '3000667492', '3000565339', '3000536457', '3000650780', '3000292723', '3000337739', '3000337429', '3000583947', '3000584797', '3000540889', '3000655331', '3000540082', '3000278838', '3000616592', '3000301653', '3000647735', '3000563018', '3000672121', '3000574109', '3000664541', '3000539500', '3000538175', '3000355910', '3000522709', '3000647944', '3000645625', '3000679993', '3000531140', '3000591888', '3000541655', '3000596574', '3000574152', '3000647344', '3000651453', '3000264753', '3000671432', '3000582820', '3000527006', '3000524046', '3000272291', '3000599220', '3000494674', '3000285944', '3000262072', '3000669133', '3000543506', '3000647663', '3000545592', '3000268742', '3000568913', '3000598797', '3000646488', '3000678981', '3000598638', '3000591109', '3000522604', '3000536360', '3000662140', '3000582807', '3000557056', '3000664799', '3000568349', '3000573890', '3000623734', '3000262083', '3000560284', '3000553582', '3000673240', '3000664539', '3000580616', '3000663459', '3000271298', '3000557664', '3000520851', '3000351750', '3000616605', '3000617115', '3000525808', '3000647346', '3000521185', '3000538583', '3000614365', '3000537413', '3000599149', '3000538552', '3000264727', '3000536396', '3000539657', '3000549497', '3000560298', '3000621397', '3000614364', '3000538580', '3000560292', '3000679999', '3000295106', '3000612799', '3000328992', '3000538542', '3000573002', '3000642293', '3000641605', '3000640305', '3000597061', '3000269345', '3000621513', '3000262326', '3000601914', '3000541666', '3000647348', '3000327396', '3000629469', '3000264461', '3000616603', '3000601925', '3000679468', '3000594909', '3000268836', '3000642473', '3000555993', '3000619102', '3000672698', '3000263719', '3000267745', '3000581919', '3000566983', '3000676868', '3000551162', '3000568279', '3000621085', '3000561982', '3000574156', '3000621798', '3000264673', '3000594908', '3000568316', '3000275350', '3000513405', '3000630010', '3000265932', '3000350789', '3000653333', '3000674829', '3000564260', '3000670738', '3000607643', '3000268733', '3000655743', '3000616610', '3000275013', '3000520146', '3000645713', '3000660580', '3000527899', '3000580668', '3000533211', '3000540400', '3000584781', '3000538159', '3000549075', '3000524085', '3000270390', '3000531985', '3000264290', '3000584764', '3000649398', '3000260315', '3000527765', '3000612143', '3000524845', '3000536364', '3000674811', '3000549967', '3000553586', '3000626674', '3000558720', '3000550366', '3000584796', '3000640270', '3000650152', '3000279518', '3000676518', '3000643311', '3000538489', '3000574206', '3000674620', '3000587377', '3000587800', '3000587802', '3000574163', '3000543519', '3000573509', '3000615376', '3000543785', '3000344665', '3000540398', '3000584791', '3000562051', '3000574590', '3000511506', '3000344667', '3000614831', '3000567090', '3000269661', '3000666289', '3000268063', '3000659025', '3000670055', '3000601852', '3000561463', '3000574151', '3000608164', '3000616608', '3000588276', '3000560291', '3000585227', '3000563355', '3000570507', '3000539493', '3000671764', '3000538171', '3000628848', '3000584770', '3000628849', '3000671920', '3000547026', '3000354225', '3000678976', '3000523450', '3000557610', '3000623622', '3000582727', '3000607979', '3000271549', '3000585269', '3000654334', '3000337784', '3000603166', '3000568263', '3000270320', '3000638193', '3000584842', '3000573820', '3000535998', '3000538892', '3000270790', '3000261956', '3000562715', '3000616670', '3000666441', '3000573005', '3000643402', '3000351147', '3000676027', '3000582856', '3000357160', '3000642329', '3000359013', '3000555558', '3000268432', '3000601965', '3000607800', '3000616606', '3000645579', '3000271201', '3000658498', '3000520145', '3000269003', '3000268726', '3000605206', '3000664136', '3000639766', '3000643711', '3000661001', '3000270203', '3000643316', '3000550381', '3000597783', '3000614756', '3000564925', '3000325423', '3000610036', '3000344631', '3000640364', '3000271802', '3000664480', '3000617114', '3000620678', '3000261964', '3000549998', '3000674912', '3000559087', '3000616618', '3000337486', '3000299330', '3000574161', '3000669141', '3000263009', '3000668346', '3000540562', '3000596608', '3000565278', '3000638095', '3000296497', '3000269037', '3000619929', '3000344364', '3000590229', '3000558737', '3000659902', '3000623568', '3000567036', '3000560732', '3000654389', '3000616208', '3000346011', '3000263834', '3000553585', '3000629626', '3000266833', '3000606979', '3000563363', '3000642289', '3000582838', '3000574157', '3000543085', '3000320519', '3000664403', '3000619739', '3000640725', '3000588917', '3000591176', '3000629503', '3000549102', '3000272288', '3000520852', '3000357902', '3000615202', '3000559088', '3000330112', '3000530471', '3000615151', '3000617096', '3000656102', '3000574983', '3000664151', '3000282142', '3000629185', '3000520184', '3000681101', '3000539885', '3000662589', '3000590308', '3000672332', '3000549478', '3000584786', '3000537766', '3000615809', '3000558407', '3000614776', '3000265073', '3000267088', '3000670180', '3000556352', '3000321603', '3000580721', '3000671239', '3000265368', '3000561115', '3000646775', '3000616593', '3000538249', '3000336958', '3000669139', '3000647734', '3000671242', '3000648482', '3000538257', '3000271822', '3000581553', '3000344817', '3000332942', '3000673243', '3000665680', '3000537432', '3000494667', '3000629501', '3000549107', '3000335816', '3000669142', '3000561917', '3000576448', '3000561097', '3000583948', '3000579792', '3000615556', '3000581473', '3000661720', '3000268576', '3000600784', '3000649378', '3000270515', '3000570477', '3000320679', '3000538534', '3000644441', '3000641144', '3000615166', '3000629261', '3000640361', '3000261631', '3000263306', '3000559917', '3000594923', '3000262075', '3000608211', '3000645706', '3000673075', '3000666083', '3000666666', '3000585710', '3000339616', '3000626599', '3000282259', '3000589499', '3000526781', '3000639574', '3000581917', '3000555117', '3000642093', '3000576099', '3000595251', '3000562560', '3000664544', '3000576977', '3000331656']
for video in video_lst:
    video_path = os.path.join(all_videos_path, video)

    video_output_path = f'{local_features_path}/{video}'
   # if f'{video}_video_local.csv' not in os.listdir(video_output_path):
    video_features = video_features_extractor(video_path, all_images_path, video)
    print(video_features)
    video_features.to_csv(f'{video_output_path}/{video}_video_local.csv')

